<!-- last_updated: 2026-02-11 -->

# 4. 기본 명령어와 상호작용

> Claude Code의 키보드 단축키, 입력 모드, 효과적인 프롬프트 작성법을 익힙니다.

---

## 키보드 단축키

> **macOS에서 Ctrl 키에 대해**: Claude Code는 터미널 앱 안에서 실행됩니다. 터미널에서 Ctrl 키는 ASCII 제어 문자를 전송하므로, macOS에서도 **Cmd가 아닌 Ctrl**을 사용합니다. Cmd 키는 터미널 앱 자체의 동작(복사, 붙여넣기, 탭 전환 등)에 사용됩니다. 따라서 아래 Ctrl 단축키는 macOS/Linux/Windows 모두 동일합니다.
>
> 세션 중 `?`를 누르면 현재 환경에서 사용 가능한 단축키 목록을 확인할 수 있습니다.

### 기본 조작

| 단축키 | 동작 |
|--------|------|
| **Enter** | 메시지 전송 |
| **Shift+Enter** | 줄바꿈 (멀티라인 입력) |
| **Escape** | 현재 작업 중단 / 응답 생성 취소 |
| **Escape × 2** | 이전 체크포인트로 되돌리기 / 요약 시작 |
| **Ctrl+C** | 현재 작업 인터럽트 (연속 누름 시 종료) |
| **Ctrl+D** | 세션 종료 (exit) |
| **Tab** | 자동 완성 (파일명, 프롬프트 제안 수락) |
| **?** | 사용 가능한 단축키 목록 표시 |

### 모드 전환 및 기능 토글

| 단축키 | 동작 |
|--------|------|
| **Shift+Tab** (또는 **Alt+M**) | 권한 모드 순환 (기본 → Auto-edit → Plan → Delegate) |
| **Option+T** (Mac) / **Alt+T** | Extended Thinking 토글 (아래 참고) |
| **Option+P** (Mac) / **Alt+P** | 모델 전환 (아래 참고) |

> **macOS Option/Alt 단축키 설정**: macOS에서 Option 키를 사용하는 단축키(`Alt+B`, `Alt+F`, `Alt+Y`, `Alt+M`, `Alt+P`, `Option+T`)가 작동하지 않으면 `/terminal-setup`을 실행하세요. 터미널 앱에서 Option 키를 Meta로 설정해야 합니다:
> - **iTerm2**: Settings → Profiles → Keys → Left/Right Option key를 "Esc+"로 설정
> - **Terminal.app**: Settings → Profiles → Keyboard → "Use Option as Meta Key" 활성화
> - **VS Code 터미널**: Settings → Profiles → Keys → Left/Right Option key를 "Esc+"로 설정

| 단축키 | 동작 |
|--------|------|
| **Ctrl+O** | Verbose 모드 토글 (상세 출력) |
| **Ctrl+B** | 백그라운드 태스크 토글 (Tmux에서는 두 번 누름) |
| **Ctrl+T** | 태스크 목록 표시 토글 |
| **Ctrl+L** | 터미널 화면 초기화 (대화 히스토리 유지) |

### 텍스트 편집

| 단축키 | 동작 |
|--------|------|
| **Ctrl+A** | 줄 시작으로 이동 |
| **Ctrl+E** | 줄 끝으로 이동 |
| **Ctrl+K** | 커서 이후 텍스트 삭제 (클립보드 저장) |
| **Ctrl+U** | 전체 줄 삭제 (클립보드 저장) |
| **Ctrl+Y** | 삭제한 텍스트 붙여넣기 |
| **Alt+Y** | 붙여넣기 히스토리 순환 (Ctrl+Y 후, macOS는 Option as Meta 필요) |
| **Alt+B** | 한 단어 뒤로 이동 (macOS는 Option as Meta 필요) |
| **Alt+F** | 한 단어 앞으로 이동 (macOS는 Option as Meta 필요) |
| **Ctrl+W** | 이전 단어 삭제 |
| **Ctrl+R** | 역방향 히스토리 검색 |
| **Ctrl+G** | 기본 텍스트 에디터에서 프롬프트 편집 |
| **↑ / ↓** | 이전/다음 명령어 히스토리 탐색 |
| **← / →** | 다이얼로그 탭 전환 (권한 프롬프트 등) |

### 이미지 붙여넣기

| 단축키 | 환경 |
|--------|------|
| **Ctrl+V** | 기본 (macOS 포함) |
| **Cmd+V** | iTerm2 (macOS) |
| **Alt+V** | Windows |

---

## 입력 모드

### 한 줄 입력

기본 모드입니다. 프롬프트를 입력하고 Enter를 눌러 전송합니다:

```
> 이 함수에 에러 핸들링을 추가해줘
```

### 멀티라인 입력

여러 방법으로 줄을 바꿀 수 있습니다:

| 방법 | 동작 | 터미널 |
|------|------|--------|
| **Shift+Enter** | 줄바꿈 | iTerm2, WezTerm, Ghostty, Kitty (네이티브) |
| **`\` + Enter** | 줄바꿈 | 모든 터미널 |
| **Ctrl+J** | 라인 피드 | 모든 터미널 |
| **붙여넣기** | 여러 줄 입력 | 코드 블록, 로그 등 |

```
> 다음 요구사항으로 API 엔드포인트를 만들어줘:
  - POST /api/users
  - 이메일, 이름 필수
  - 이메일 형식 검증
  - 중복 이메일 체크
  - 성공 시 201 응답
```

> **팁**: VS Code, Alacritty, Zed, Warp 등에서 Shift+Enter를 사용하려면 `/terminal-setup`을 먼저 실행하세요.

### Vim 모드

Vim 키바인딩에 익숙하다면:

```
> /vim
```

Vim 모드에서는 일반 모드(Normal), 입력 모드(Insert), 비주얼 모드(Visual)를 지원합니다. `i`로 입력 모드에 진입하고, `Esc`로 일반 모드로 돌아갑니다.

---

## 파일 참조: `@` 멘션

프롬프트에서 `@`를 타이핑하면 파일 경로 자동완성이 시작됩니다:

```
> @src/auth/login.ts 이 파일의 세션 만료 로직을 설명해줘
```

여러 파일을 동시에 참조할 수 있습니다:

```
> @src/models/user.ts 와 @src/routes/users.ts 를 비교하고
> 타입 불일치를 찾아줘
```

`@`를 사용하면 Claude가 해당 파일을 즉시 컨텍스트에 로드하므로, Claude가 파일을 검색하는 시간을 절약할 수 있습니다.

---

## 이미지와 스크린샷

Claude Code는 이미지를 이해할 수 있습니다. 다음 방법으로 이미지를 전달합니다:

### 이미지 파일 경로 전달

```
> 이 스크린샷을 보고 UI 버그를 찾아줘: @/tmp/screenshot.png
```

### 클립보드에서 붙여넣기

터미널에서 이미지를 **Ctrl+V** 또는 **Cmd+V**로 붙여넣을 수 있습니다 (터미널이 지원하는 경우).

### 활용 예시

- **UI 버그 분석**: 스크린샷을 보여주고 원인 파악 요청
- **디자인 목업 구현**: 디자인 스크린샷을 기반으로 UI 코드 생성
- **에러 화면 디버깅**: 에러 화면 캡처를 보여주고 해결 요청
- **결과 비교**: 기대 출력 스크린샷과 실제 출력 비교

---

## Bash 모드: `!` 접두사

프롬프트에 `!`를 붙이면 **Bash 모드**로 전환되어 Claude를 거치지 않고 직접 명령어를 실행합니다:

```
> ! npm test
> ! git status
> ! ls -la src/
```

Bash 모드의 특징:
- Claude의 해석 없이 **직접 실행** — 빠름
- 명령어 출력이 **자동으로 대화 컨텍스트에 추가**
- 권한 프롬프트 불필요 (Bash 권한 규칙은 적용)
- `Tab`으로 이전 `!` 명령어 자동완성

```
> 함수를 리팩토링해줘

[Claude가 변경 수행]

> ! npm test          # Claude 없이 빠르게 테스트 실행

> 테스트가 통과했어! 이제 로깅도 추가해줘
```

## 외부 데이터를 프롬프트에 전달하기

명령어 출력을 Claude에게 전달하려면 **파이프**를 사용합니다:

```bash
# 에러 로그를 분석
tail -50 /var/log/app.log | claude -p "이 에러 로그를 분석해줘"

# Git diff를 리뷰
git diff --staged | claude -p "이 변경을 리뷰해줘"

# 빌드 에러를 디버깅
cat build-error.txt | claude -p "이 빌드 에러의 원인을 설명해줘"
```

대화형 세션 안에서는 `!` Bash 모드로 명령어를 실행하면 출력이 자동으로 대화 컨텍스트에 추가됩니다:

```
> ! cat /var/log/app.log | tail -50
[로그 출력이 컨텍스트에 추가됨]

> 위 로그에서 에러 원인을 분석해줘
```

---

## 권한 모드 (Shift+Tab)

**Shift+Tab**을 누를 때마다 권한 모드가 순환됩니다:

### 1. Default (기본)

```
[Default Mode]
```

Claude가 파일 편집이나 셸 명령어를 실행하기 전에 **항상 승인을 요청**합니다. 가장 안전한 모드입니다.

### 2. Auto-accept Edits

```
[Auto-edit Mode]
```

Claude가 파일 편집을 **자동으로 수행**합니다. 셸 명령어는 여전히 승인을 요청합니다.

### 3. Plan Mode

```
[Plan Mode]
```

Claude가 **읽기 전용 도구만** 사용합니다. 코드베이스를 분석하고 계획을 수립하지만, 실제 변경은 하지 않습니다. 복잡한 작업 전에 먼저 계획을 세울 때 유용합니다.

### 4. Delegate Mode

```
[Delegate Mode]
```

Claude가 **에이전트 팀원을 통해서만** 작업합니다. 직접 구현하지 않고 다른 에이전트에 위임합니다. 에이전트 팀이 활성화되어 있을 때만 사용 가능합니다.

---

## 효과적인 프롬프트 작성 요령

### 1. 구체적으로 지시하기

```
# 모호한 지시 (❌)
> 로그인 버그를 고쳐줘

# 구체적인 지시 (✅)
> 만료된 카드를 가진 사용자의 체크아웃 플로우가 깨져 있어.
> src/payments/ 쪽을 확인해줘, 특히 토큰 리프레시 부분.
> 실패하는 테스트를 먼저 작성하고, 그 다음에 수정해줘.
```

모호한 프롬프트도 동작하지만, 구체적인 프롬프트는 첫 시도에 성공할 확률이 높습니다.

### 2. 검증 대상 제공하기

```
> validateEmail을 구현해줘.
> 테스트 케이스:
>   'user@example.com' → true
>   'invalid' → false
>   'user@.com' → false
> 구현 후 테스트를 실행해줘.
```

Claude는 자신의 작업을 검증할 수 있을 때 더 좋은 결과를 냅니다.

### 3. 탐색 후 구현하기

복잡한 문제는 리서치와 코딩을 분리합니다:

```
> src/auth/를 읽고 세션 핸들링 방식을 이해해줘.
> 그 다음 OAuth 지원을 추가하는 계획을 세워줘.
```

Plan 모드(Shift+Tab 두 번)를 활용하면 더 효과적입니다.

### 4. 위임하기, 지시하지 않기

```
# 마이크로매니징 (❌)
> src/auth/login.ts를 열고 42번째 줄에서 if 문을 수정하고...

# 위임 (✅)
> 만료된 카드 사용자의 체크아웃 플로우가 깨져있어.
> 관련 코드는 src/payments/에 있어. 조사해서 고쳐줘.
```

어떤 파일을 읽을지, 어떤 명령어를 실행할지는 Claude가 알아서 판단합니다.

### 5. 단계적으로 작업하기

```
# 한 번에 모든 것 (❌)
> 전체 코드베이스를 리팩토링해줘

# 단계적으로 (✅)
> 먼저 src/api/routes.ts의 엔드포인트를 정리해줘.
> 완료되면 다음 파일로 넘어가자.
```

큰 작업을 작은 단위로 나누면 각 단계에서 검증할 수 있어 실수를 줄입니다.

---

## 내장 명령어 미리보기

`/help`를 입력하면 모든 내장 명령어를 확인할 수 있습니다. 자주 쓰는 명령어:

| 명령어 | 용도 |
|--------|------|
| `/help` | 도움말 표시 |
| `/clear` | 대화 초기화 |
| `/compact` | 컨텍스트 압축 |
| `/cost` | 비용 확인 |
| `/model` | 모델 전환 |
| `/status` | 세션 상태 확인 |
| `/doctor` | 환경 진단 |
| `/init` | CLAUDE.md 생성 가이드 |

> 각 명령어의 상세한 사용법은 [5장: 슬래시 커맨드 완전 가이드](../02-core-features/01-slash-commands.md)에서 다룹니다.

---

## CLI 플래그 미리보기

`claude` 명령어에 플래그를 붙여 다양한 방식으로 시작할 수 있습니다:

```bash
# 마지막 세션 이어하기
claude --continue

# 특정 세션 재개
claude --resume auth-refactor

# 특정 모델로 시작
claude --model opus

# 비대화형 모드 (스크립트용)
claude -p "이 코드를 리뷰해줘"

# Plan 모드로 시작
claude --permission-mode plan

# 데이터 파이핑
cat error.log | claude -p "이 에러를 분석해줘"
```

> CLI 플래그의 전체 목록은 [부록 B: CLI 레퍼런스](../08-appendix/b-cli-reference.md)에서 확인할 수 있습니다.

---

## 요약

| 주제 | 핵심 포인트 |
|------|------------|
| **시작** | 프로젝트 디렉토리에서 `claude` 실행 |
| **입력** | Enter(전송), Shift+Enter(줄바꿈), ↑↓(히스토리) |
| **파일 참조** | `@path/to/file`로 파일을 컨텍스트에 로드 |
| **이미지** | 파일 경로 전달 또는 Ctrl+V 붙여넣기 |
| **Bash 모드** | `! command`로 직접 명령어 실행 (출력은 컨텍스트에 자동 추가) |
| **외부 데이터** | 파이프(`cat log \| claude -p "분석"`)로 데이터 전달 |
| **모델 전환** | Option+P / Alt+P |
| **권한 모드** | Shift+Tab으로 순환 (Default/Auto-edit/Plan/Delegate) |
| **프롬프트** | 구체적으로, 검증 대상 포함, 탐색 후 구현, 위임 |
| **중단/되돌리기** | Esc(중단), Esc×2(체크포인트 복원) |

---

## 다음 파트

Part I의 기본기를 익혔습니다. [Part II: 핵심 기능](../02-core-features/01-slash-commands.md)에서 슬래시 커맨드, 도구 시스템, Extended Thinking, 모델 선택 등 핵심 기능을 깊이 있게 다룹니다.
